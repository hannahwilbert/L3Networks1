{% extends "layouts/base.html" %}

{% block content %}

{# Hero Section #}
{% if product == 'Managed Helpdesk' %}
  {% set heroImage = '/images/products/cyber-security.webp' %}
{% else %}
  {% set heroImage = '/images/products/' + (product | slug) + '.webp' %}
{% endif %}
<section style="background-image: url('{{ heroImage }}');" class="relative w-full px-6 pt-32 text-white bg-center bg-no-repeat bg-cover md:px-10 md:pt-16">
  <div class="absolute inset-0 bg-gradient-to-t from-black via-black/60 to-transparent"></div>
  <div class="container relative max-w-screen-xl px-0 pb-20 text-left md:pb-32 md:px-0 md:mx-auto md:py-48">
    <div class="flex gap-0">
      <span class="xflex-shrink-0">
        <h1 class="mb-4 text-3xl font-semibold tracking-tight md:text-6xl font-mont">{{ mainTitle | safe }}</h1>
        <p class="text-xl font-light md:text-2xl">{{ subtitle | safe }}</p>
      </span>
      {# <!-- <div class="relative w-full max-w-[540px] cursor-pointer" onclick="this.innerHTML='<iframe class=\'w-full h-64\' src=\'https://www.youtube.com/embed/0lmoAAFXy3A?autoplay=1&rel=0&controls=1&modestbranding=1\' frameborder=\'0\' allow=\'autoplay; encrypted-media\' allowfullscreen></iframe>'">
        <img src="/path-to-your-custom-thumbnail.jpg" alt="Custom Thumbnail" class="object-cover w-full h-64 rounded-lg">
        <div class="absolute inset-0 flex items-center justify-center bg-black border border-slate-900">
          <svg class="w-16 h-16 text-white" fill="currentColor" viewBox="0 0 24 24">
            <path d="M8 5v14l11-7z" />
          </svg>
        </div>
      </div> -->
      <!-- <div class="w-full">
        <iframe 
  width="560" 
  height="315" 
  src="https://www.youtube.com/embed/0lmoAAFXy3A?si=xnU1fO034D2kdrIj&rel=0&controls=0&modestbranding=1" 
  title="YouTube video player" 
  frameborder="0"
  allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
  referrerpolicy="strict-origin-when-cross-origin" 
  allowfullscreen>
</iframe>
      </div> --> #}
    </div>
    <button>
      <a href="/book-appointment/" class="block w-auto px-6 py-2.5 mx-auto text-lg font-semibold text-white transition-all ease-in-out bg-teal-500 rounded-full hover:bg-teal-600 mt-8">
        <div class="flex items-center gap-2">Book An Appointment <img src="/images/icons/ArrowUpRightWhite.svg" alt="Book An Appointment"></div>
      </a>
    </button>
  </div>
</section>


{# Main Content #}
<main class="px-3 py-24 text-white bg-black md:px-8 2xl:px-0">

  <nav class="container flex w-full h-full max-w-screen-xl mx-auto text-slate-200 fade-item delay-0 mb-10" aria-label="Breadcrumb">
    <ol class="inline-flex items-center space-x-1 md:space-x-2 rtl:space-x-reverse">
      <li class="inline-flex items-center">
        <a href="/" class="inline-flex items-center text-sm font-medium text-slate-300 hover:text-slate-500">
          <svg class="w-3 h-3 me-2.5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
            <path
              d="m19.707 9.293-2-2-7-7a1 1 0 0 0-1.414 0l-7 7-2 2a1 1 0 0 0 1.414 1.414L2 10.414V18a2 2 0 0 0 2 2h3a1 1 0 0 0 1-1v-4a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v4a1 1 0 0 0 1 1h3a2 2 0 0 0 2-2v-7.586l.293.293a1 1 0 0 0 1.414-1.414Z" />
          </svg>
          Home
        </a>
      </li>
      <li>
        <div class="flex items-center">
          <svg class="block w-3 h-3 mx-1 text-slate-300 rtl:rotate-180 " aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 6 10">
            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 9 4-4-4-4" />
          </svg>
          <a href="#" class="text-sm font-medium text-slate-300 ms-1 hover:text-slate-500 md:ms-2">Solutions</a>
        </div>
      </li>
      <li aria-current="page">
        <div class="flex items-center">
          <svg class="w-3 h-3 mx-1 text-slate-300 rtl:rotate-180" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 6 10">
            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 9 4-4-4-4" />
          </svg>

          <script>
            window.navSolutions = {
              items: [
                {% for main in navSolutions.items %}
            { text: "{{ main.text | safe }}", url: "{{ main.url }}" },
            {% endfor %}
                ]
              };
          </script>

          <div x-data="{ selected: '{{ page.url }}', open: false }" class="relative">
            <button @click="open = !open" class="flex items-center justify-between w-full px-4 py-2 text-sm text-left text-teal-500 bg-transparent border-none cursor-pointer focus:outline-none">
              <span x-text="selected ? window.navSolutions.items.find(item => item.url === selected).text : 'Select a Product'"></span>
              <svg class="w-4 h-4 ml-2 fill-current" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">
                <path d="M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z" />
              </svg>
            </button>

            <div x-ref="dropdown" x-show="open" @click.away="open = false" class="absolute z-10 md:min-w-[250px] mt-1 border rounded-md shadow-lg bg-slate-800 border-slate-800" x-init="() => {
                  $watch('open', value => {
                    if (value) {
                      anime({
                        targets: $refs.dropdown,
                        opacity: [0, 1],
                        translateY: [-10, 0],
                        duration: 300,
                        easing: 'easeOutQuad'
                      });
                    } else {
                      anime({
                        targets: $refs.dropdown,
                        opacity: [1, 0],
                        translateY: [0, -10],
                        duration: 300,
                        easing: 'easeInQuad',
                        complete: () => {
                          $refs.dropdown.style.display = 'none';
                        }
                      });
                    }
                  });
                }">
              <template x-for="main in window.navSolutions.items" :key="main.url">
                <div @click="selected = main.url; window.location.href = main.url; open = false;" class="px-4 py-2 text-sm cursor-pointer text-slate-200 hover:bg-slate-700"
                  :class="{ 'bg-slate-900': selected === main.url }">
                  <span x-text="main.text"></span>
                </div>
              </template>
            </div>
          </div>
        </div>
      </li>
    </ol>
  </nav>

  <article class="container max-w-screen-xl mx-auto">
    {# Product Overview #}

    {# <div class="w-10 h-2 mt-24 bg-gradient-to-r from-teal-500 to-teal-400"></div> #}
    {% if product == 'Managed Helpdesk' %}
    <style>
      .mhValue{
        position:relative;
        margin-top:0;
        padding:0;
      }
      .mhValue__title{
        opacity:0;
        transform:translateY(24px);
        transition:opacity .6s ease, transform .6s ease;
      }
      .mhValue__title.is-visible{
        opacity:1;
        transform:translateY(0);
      }
      .mhValue__matrix{
        position:relative;
        z-index:1;
        border:1px solid rgba(71,85,105,.65);
        border-radius:28px;
        overflow:hidden;
        background:transparent;
        box-shadow:0 30px 55px rgba(2,6,23,.65);
      }
      .mhValue__rows{
        display:flex;
        flex-direction:column;
        width:100%;
      }
      .mhValue__row{
        display:grid;
        grid-template-columns:1fr;
        align-items:stretch;
      }
      .mhValue__row + .mhValue__row{
        border-top:1px solid rgba(148,163,184,.2);
      }
      .mhValue__row--single{
        grid-template-columns:1fr;
      }
      .mhValue__card{
        padding:clamp(24px,3vw,32px);
        color:#e2e8f0;
        display:flex;
        align-items:flex-start;
        gap:18px;
        opacity:0;
        transform:translateY(26px);
        transition:opacity .65s ease, transform .65s ease;
        transition-delay:var(--mh-delay,0s);
        background:transparent;
      }
      .mhValue__card.is-visible{
        opacity:1;
        transform:translateY(0);
      }
      .mhValue__icon{
        width:48px;
        height:48px;
        flex-shrink:0;
        filter:drop-shadow(0 6px 18px rgba(45,212,191,.25));
      }
      .mhValue__heading{
        margin:0;
        font-size:1.3rem;
        font-weight:700;
        color:#5eead4;
        letter-spacing:-0.01em;
      }
      .mhValue__copy{
        margin:0;
        color:rgba(226,232,240,.78);
        line-height:1.6;
        font-size:1rem;
      }
    </style>
    {% endif %}
    {% if product == 'User & Device Management' or product == 'Managed Networks' or product == 'Cloud & Systems Services' or product == 'Professional Services' or product == 'Cyber Security' %}
    {% set heroAccent = '#00BBA7' %}
    <style>
      .udHero{display:grid;grid-template-columns:1fr;gap:0;border:1px solid rgba(255,255,255,.1);border-radius:16px;overflow:hidden;background:#000;box-shadow:0 24px 40px rgba(0,0,0,.45);}
      @media(min-width:1024px){.udHero{grid-template-columns:1fr 1fr;}}
      .udHero__copy{padding:32px;border-right:1px solid rgba(255,255,255,.1);display:flex;flex-direction:column;justify-content:flex-start;gap:12px;}
      .udHero__copy-inner{max-width:560px;}
      .udHero__title{font-size:32px;font-weight:700;margin:0 0 12px;line-height:1.15;}
      .udHero__body{color:rgba(255,255,255,.8);line-height:1.55;display:flex;flex-direction:column;gap:12px;}
      .udHero__body :where(p){margin:0;}
      .udHero__cta{color:{{ heroAccent }};border:1px solid {{ heroAccent }};border-radius:24px;padding:10px 22px;display:inline-flex;align-items:center;gap:6px;font-weight:500;text-decoration:none;width:max-content;}
      .udHero__list{display:flex;flex-direction:column;}
      .udHero__item{display:flex;gap:16px;padding:20px 24px;border-bottom:1px solid rgba(255,255,255,.1);align-items:flex-start;flex-wrap:nowrap;}
      .udHero__item:last-child{border-bottom:none;}
      .udHero__list h3{color:{{ heroAccent }};font-size:18px;font-weight:700;margin:0 0 8px;}
      .udHero__list p{color:rgba(255,255,255,.75);margin:0;font-size:16px;line-height:1.55;font-weight:300;}
    </style>
    {% endif %}

    {% if product == 'User & Device Management' or product == 'Managed Networks' or product == 'Cloud & Systems Services' or product == 'Professional Services' or product == 'Cyber Security' or product == 'Managed Helpdesk' %}
    <div class="mt-10 mb-10"></div>
    {% else %}
    <hr class="mt-10 mb-16 border-slate-700">
    <h2 class="mt-4 mb-3 text-3xl font-semibold font-mont text-center mx-auto md:text-4xl">{{ prodtitle | safe }}</h2>
    <h3 class="mb-12 text-base font-light text-slate-300 text-center max-w-3xl mx-auto leading-relaxed">{{ prodbody | safe }}</h3>
    {% endif %}
    
    <style>
      .fade-item{opacity:0; transform:translateY(24px); transition:opacity .65s cubic-bezier(.32,.75,.31,.97), transform .65s cubic-bezier(.32,.75,.31,.97); will-change:opacity,transform;}
      .fade-item.is-visible{opacity:1; transform:translateY(0);}
      .fade-item.delay-0{transition-delay:0s;}
      .fade-item.delay-100{transition-delay:.1s;}
      .fade-item.delay-200{transition-delay:.2s;}
      .fade-item.delay-300{transition-delay:.3s;}
      .fade-item.delay-400{transition-delay:.4s;}
      .fade-item.delay-500{transition-delay:.5s;}
    </style>

    <style>
      .valuePropsWrap{
        margin-bottom:clamp(40px,8vw,72px);
      }
      .valuePropsPanel{
        position:relative;
        display:grid;
        grid-template-columns:repeat(2,minmax(0,1fr));
        background:#000;
        border:1px solid rgba(255,255,255,.18);
        border-radius:18px;
        box-shadow:0 30px 55px rgba(0,0,0,.5);
        overflow:hidden;
      }
      .valuePropsPanel::before,
      .valuePropsPanel::after{
        content:"";
        position:absolute;
        background:rgba(255,255,255,.18);
        pointer-events:none;
      }
      .valuePropsPanel::before{
        width:1px;
        top:0;
        bottom:0;
        left:50%;
        transform:translateX(-0.5px);
      }
      .valuePropsPanel::after{
        height:1px;
        left:0;
        right:0;
        top:50%;
        transform:translateY(-0.5px);
      }
      .valuePropsCard{
        position:relative;
        padding:clamp(22px,4vw,32px);
        display:flex;
        flex-direction:column;
        gap:clamp(10px,2vw,14px);
      }
      .valuePropsIcon{
        width:40px;
        height:40px;
      }
      .valuePropsHeading{
        font-size:clamp(20px,2.4vw,24px);
        font-weight:800;
        letter-spacing:-0.01em;
        color:#00BBA7;
      }
      .valuePropsCopy{
        color:rgba(226,232,240,.8);
        font-size:clamp(14px,1.6vw,15.5px);
        line-height:1.65;
      }
      @media (max-width: 767px){
        .valuePropsPanel{
          grid-template-columns:1fr;
        }
        .valuePropsPanel::before,
        .valuePropsPanel::after{
          display:none;
        }
        .valuePropsCard + .valuePropsCard{
          border-top:1px solid rgba(255,255,255,.18);
        }
      }
    </style>

{% if product == 'Managed Helpdesk' %}
    {% set cardsToShow = valueProps | length %}
    {% if cardsToShow > 5 %}
      {% set cardsToShow = 5 %}
    {% endif %}
    <h3 class="mhValue__title text-xl sm:text-2xl md:text-3xl font-semibold font-mont mb-6 text-white mt-20">Why Partner with L3 Networks for Helpdesk Services</h3>
    <section class="mhValue fade-item delay-100">
      <div class="mhValue__matrix">
        <div class="mhValue__rows">
          {% for prop in valueProps %}
            {% if loop.index0 < cardsToShow %}
            <div class="mhValue__row mhValue__row--single">
              <article class="mhValue__card">
                <img src="{{ prop.icon }}" alt="{{ prop.title }}" loading="lazy" decoding="async" class="mhValue__icon">
                <div>
                  <h4 class="mhValue__heading font-mont">{{ prop.title }}</h4>
                  <p class="mhValue__copy">{{ prop.description }}</p>
                </div>
              </article>
            </div>
            {% endif %}
          {% endfor %}
        </div>
      </div>
    </section>
    <script>
      document.addEventListener('DOMContentLoaded', function(){
        var reduceMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
        var heading = document.querySelector('.mhValue__title');
        var items = document.querySelectorAll('.mhValue__card');
        if (reduceMotion){
          if (heading) heading.classList.add('is-visible');
          items.forEach(function(item){ item.classList.add('is-visible'); });
          return;
        }
        if (heading){
          var headingObserver = new IntersectionObserver(function(entries){
            entries.forEach(function(entry){
              if (entry.isIntersecting){
                entry.target.classList.add('is-visible');
                headingObserver.unobserve(entry.target);
              }
            });
          }, { threshold: 0.4 });
          headingObserver.observe(heading);
        }
        if (items.length){
          items.forEach(function(item, index){
            item.style.setProperty('--mh-delay', (index * 140) + 'ms');
          });
          var itemObserver = new IntersectionObserver(function(entries){
            entries.forEach(function(entry){
              if (entry.isIntersecting){
                entry.target.classList.add('is-visible');
                itemObserver.unobserve(entry.target);
              }
            });
          }, { threshold: 0.35, rootMargin: '0px 0px -10% 0px' });
          items.forEach(function(item){ itemObserver.observe(item); });
        }
      });
    </script>
    {% elseif product == 'User & Device Management' or product == 'Managed Networks' or product == 'Cloud & Systems Services' or product == 'Professional Services' or product == 'Cyber Security' %}
    <section class="fade-item delay-0 mt-16">
      <div class="udHero">
        <div class="udHero__copy">
          <div class="udHero__copy-inner">
            <h2 class="udHero__title font-mont">{{ prodtitle | safe }}</h2>
            <div class="udHero__body">{{ prodbody | safe }}</div>
          </div>
          <a href="#key-products" class="udHero__cta gap-3">
            Learn More
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
              <path d="M7 7l10 10"/>
              <path d="M7 17h10V7"/>
            </svg>
          </a>
        </div>
        <div class="udHero__list">
          {% for prop in valueProps %}
          <div class="udHero__item">
            <img src="{{ prop.icon }}" alt="" aria-hidden="true" loading="lazy" class="w-10 h-10 mt-1 flex-shrink-0">
            <div>
              <h3 class="font-mont">{{ prop.title }}</h3>
              <p>{{ prop.description }}</p>
            </div>
          </div>
          {% endfor %}
        </div>
      </div>
    </section>
    {% else %}
    <section class="valuePropsWrap fade-item delay-0">
      <div class="valuePropsPanel">
        {% for prop in valueProps %}
        <article class="valuePropsCard fade-item delay-{{ loop.index0 * 100 }}">
          <img src="{{ prop.icon }}" alt="{{ prop.title }}" class="valuePropsIcon" aria-hidden="true" loading="lazy" decoding="async">
          <h3 class="valuePropsHeading font-mont">{{ prop.title }}</h3>
          <p class="valuePropsCopy">{{ prop.description }}</p>
        </article>
        {% endfor %}
      </div>
    </section>
    {% endif %}
    
    <div class="pt-32">&nbsp;</div>
    <div id="key-products"></div>

    {# <div class="w-10 h-2 bg-gradient-to-r from-teal-500 to-teal-400"></div> #}
    <hr class="mb-16 border-slate-700">
    <div class="mx-4 md:mx-0 md:max-w-2xl fade-item delay-0" style="margin-top:12px;">
      <h2 class="mb-2 text-3xl font-semibold text-white font-mont">
        {{ keyprodsTitle | default('Solutions Designed to Keep Your Business Connected') | safe }}
      </h2>
      <p class="mb-0 text-[18px] font-light text-slate-200 fade-item delay-100">
        {{ keyprodsBody | default('We provide tailored network solutions that align with your organizationâ€™s Elevate journey. Each service strengthens visibility, performance, and reliability as your environment matures.') | safe }}
      </p>
    </div>

    {% raw %}
<style>
  #cybersec-section{background:#000;padding:clamp(20px,6vh,56px) 0;color:var(--ink,#fff);}
  #cybersec-section .wrap{width:min(1200px,100%)}
  #cybersec-section .wrap{margin:0!important;padding:0!important;}
  #cybersec-section .hdr h2{font-size:clamp(24px,3vw,28px);line-height:1.15;letter-spacing:-.015em;margin:0 0 12px;font-weight:800;color:#fff;}
  #cybersec-section .hdr p{margin:0;color:rgba(255,255,255,.72);max-width:60ch;}
  #cybersec-section .content{display:grid;grid-template-columns:1fr;gap:20px;margin-top:0;max-width:1200px;margin-left:auto;margin-right:auto;}
  #cybersec-section .filters{order:1;position:-webkit-sticky;position:sticky;top:64px;z-index:2;align-self:start;}
  #cybersec-section .filters__panel{padding:16px;border-radius:16px;background:#050505;}
  #cybersec-section .cards{order:2;width:100%;}
  @media (min-width:1024px){
    #cybersec-section .content{grid-template-columns:2fr 1fr;gap:32px;}
    #cybersec-section .filters{order:2;top:96px;}
    #cybersec-section .cards{order:1;}
    #cybersec-section .filters__panel{background:rgba(0,0,0,.92);backdrop-filter:blur(8px);}
  }
  #cybersec-section .cards{display:grid;grid-template-columns:1fr;gap:16px;}
  @media (min-width:640px){#cybersec-section .cards{grid-template-columns:1fr 1fr;gap:20px;}}
  #cybersec-section .card{background:#000;border:.5px solid rgba(255,255,255,.10);border-radius:16px;padding:16px;transition:opacity .18s ease,border-color .18s ease,border-width .18s ease;}
  #cybersec-section .card--match{border-width:1px;border-color:rgba(255,255,255,.40);box-shadow:0 8px 24px rgba(0,0,0,.35);}
  #cybersec-section .card__title{font-size:clamp(16px,2vw,18px);font-weight:600;letter-spacing:-.01em;margin:0;color:#fff;}
  #cybersec-section .card__blurb{margin:8px 0 0;color:rgba(255,255,255,.72);font-size:16px;line-height:1.6;}
  #cybersec-section .card__pills{display:flex;align-items:center;gap:8px;margin-top:14px;}
  #cybersec-section .pill-dot{display:inline-flex;align-items:center;justify-content:center;transition:opacity .15s ease,background .15s ease;}
  #cybersec-section .pill-dot:not(svg){height:6px;width:10px;border-radius:999px;background:#555;}
  #cybersec-section svg.pill-dot{display:block;background:none;}
  #cybersec-section svg.pill-dot--stabilize{width:26px;height:auto;}
  #cybersec-section svg.pill-dot--optimize{width:26px;height:auto;}
  #cybersec-section svg.pill-dot--transform{width:26px;height:auto;}
  #cybersec-section .pill-dot--on.pill-dot--stabilize:not(svg){background:#ff6a3d;}
  #cybersec-section .pill-dot--on.pill-dot--optimize:not(svg){background:#3c52ff;}
  #cybersec-section .pill-dot--on.pill-dot--transform:not(svg){background:#00bba7;}
  #cybersec-section .filters__lead{color:rgba(255,255,255,.72);font-size:16px;line-height:1.6;margin:0 0 8px;}
  #cybersec-section .filters__group{
    display:flex;
    flex-direction:column;
    gap:14px;
    max-width:180px;
    width:100%;
    margin:0;
    align-items:flex-start;
  }
  #cybersec-section .filter-btnWrap{
    position:relative;
    width:100%;
  }
  #cybersec-section .filter-btn{
    position:relative;
    background:#02060f;
    border:1px solid rgba(148,163,184,.35);
    padding:15px 22px;
    display:flex;
    align-items:center;
    gap:16px;
    font-weight:600;
    font-size:17px;
    line-height:1.35;
    cursor:pointer;
    color:#fff;
    width:100%;
    max-width:200px;
    border-radius:999px;
    transition:transform .2s ease, box-shadow .2s ease, border-color .2s ease, background .2s ease;
    text-transform:none;
    letter-spacing:-0.01em;
  }
  #cybersec-section .filter-btn[data-level="stabilize"]{--filter-accent:#ff6a3d;}
  #cybersec-section .filter-btn[data-level="optimize"]{--filter-accent:#3c52ff;}
  #cybersec-section .filter-btn[data-level="transform"]{--filter-accent:#00bba7;}
  #cybersec-section .filter-btn:hover,
  #cybersec-section .filter-btn:focus-visible{
    border-color:var(--filter-accent, rgba(148,163,184,.75));
    box-shadow:0 10px 24px rgba(0,0,0,.35);
  }
  #cybersec-section .filter-btnWrap[data-active="true"] .filter-btn{
    transform:translateY(-2px);
    box-shadow:0 18px 34px rgba(0,0,0,.5);
    background:#000;
    border-color:var(--filter-accent, #00bba7);
  }
  #cybersec-section .filter-btn__text{font-size:inherit;font-weight:600;}
  #cybersec-section .filter-btn__copy{
    position:absolute;
    top:50%;
    left:calc(100% + 16px);
    transform:translateY(-50%) translateX(8px);
    width:260px;
    background:#000;
    border:1px solid rgba(148,163,184,.35);
    border-radius:14px;
    padding:14px 18px;
    font-size:14px;
    color:rgba(226,232,240,.9);
    line-height:1.55;
    opacity:0;
    pointer-events:none;
    transition:opacity .2s ease, transform .2s ease;
    text-transform:none;
    letter-spacing:normal;
    text-align:left;
    font-weight:400;
    box-shadow:0 20px 40px rgba(0,0,0,.55);
    z-index:30;
  }
  #cybersec-section .filter-btn__copy::before,
  #cybersec-section .filter-btn__copy::after{display:none;}
  #cybersec-section .filter-btnWrap:hover .filter-btn__copy{
    opacity:1;
    transform:translateY(-50%) translateX(0);
  }
  @media (max-width:900px){
    #cybersec-section .filter-btn__copy{
      left:0;
      top:calc(100% + 12px);
      width:min(90vw, 340px);
      transform:none;
    }
  }
  #cybersec-section .filter-dot{display:inline-flex;align-items:center;justify-content:center;}
  #cybersec-section .filter-dot:not(svg){height:6px;width:10px;border-radius:999px;}
  #cybersec-section svg.filter-dot{display:block;flex-shrink:0;}
  #cybersec-section svg.filter-dot--stabilize{width:26px;height:auto;}
  #cybersec-section svg.filter-dot--optimize{width:26px;height:auto;}
  #cybersec-section svg.filter-dot--transform{width:26px;height:auto;}
  #cybersec-section .filter-dot--stabilize rect,
  #cybersec-section .filter-dot--optimize path,
  #cybersec-section .filter-dot--transform circle{transition:fill .15s ease;}
  #cybersec-section .filter-btn[data-level="stabilize"] .filter-dot:not(svg){background:#ff6a3d;}
  #cybersec-section .filter-btn[data-level="optimize"] .filter-dot:not(svg){background:#3c52ff;}
  #cybersec-section .filter-btn[data-level="transform"] .filter-dot:not(svg){background:#00bba7;}
  #cybersec-section .cards--filtered .card{opacity:.2;}
  #cybersec-section .cards--filtered .card.card--visible{opacity:1;}
</style>
{% endraw %}
<section id="cybersec-section" aria-label="Comprehensive Cybersecurity Solutions">
  <div class="wrap">
    <div class="content">
      <div class="cards" id="cards" aria-live="polite"></div>
      <aside class="filters fade-item delay-200" aria-label="Service level filters">
        <div class="filters__panel">
          <p class="filters__lead">All of our services are built around our Elevate framework. See where they land on your journey.</p>
          <div class="filters__group" id="filters"></div>
        </div>
      </aside>
    </div>
  </div>
</section>
<script>
(function(){
  var observer = null;
  function toArray(nodes){
    if (!nodes) return [];
    if (Array.isArray(nodes)) return nodes;
    if (nodes instanceof Element) return [nodes];
    return Array.prototype.slice.call(nodes);
  }
  function ensureObserver(){
    if (observer !== null) return observer;
    if (!('IntersectionObserver' in window)){
      observer = undefined;
      return observer;
    }
    observer = new IntersectionObserver(function(entries){
      entries.forEach(function(entry){
        if (entry.isIntersecting){
          entry.target.classList.add('is-visible');
          observer.unobserve(entry.target);
        }
      });
    }, { root:null, threshold:0.18 });
    return observer;
  }
  function register(nodes){
    var elements = toArray(nodes);
    if (!elements.length) return;
    var obs = ensureObserver();
    if (!obs){
      elements.forEach(function(el){
        if (!el || el.dataset.fadeInit === '1') return;
        el.dataset.fadeInit = '1';
        el.classList.add('is-visible');
      });
      return;
    }
    elements.forEach(function(el){
      if (!el || el.dataset.fadeInit === '1') return;
      el.dataset.fadeInit = '1';
      obs.observe(el);
    });
  }
  function ready(fn){
    if (document.readyState === 'loading'){
      document.addEventListener('DOMContentLoaded', fn, { once:true });
    } else {
      fn();
    }
  }
  ready(function(){
    register(document.querySelectorAll('.fade-item'));
  });
  window.registerFadeItems = register;
})();
</script>
<script>
(function(){
  var section = document.getElementById('cybersec-section');
  if (!section) return;
  var cardsEl = section.querySelector('#cards');
  var filtersEl = section.querySelector('#filters');
  if (!cardsEl || !filtersEl) return;

  var RAW = {{ keyprods | dump | safe }};
  var SERVICES = Array.isArray(RAW) ? RAW.map(function(item){
    return {
      title: item.title || '',
      blurb: (item.paragraph || '').trim(),
      levels: Array.isArray(item.levels) ? item.levels : []
    };
  }) : [];

  var LEVELS = [
    { key: 'stabilize', label: 'Stabilize', color: '#FF6A3D' },
    { key: 'optimize', label: 'Optimize', color: '#3C52FF' },
    { key: 'transform', label: 'Transform', color: '#00BBA7' }
  ];
  var filterRefs = [];

  var activeLevels = new Set();

  function setTooltipVisibility(tip, show){
    if (!tip) return;
    tip.setAttribute('aria-hidden', show ? 'false' : 'true');
  }

  function makePillDot(level){
    if (level === 'stabilize'){
      var stabilizeIcon = createStabilizeIcon('#525252');
      stabilizeIcon.setAttribute('class', 'pill-dot pill-dot--' + level);
      return stabilizeIcon;
    }
    if (level === 'optimize'){
      var optimizeIcon = createOptimizeIcon('#525252');
      optimizeIcon.setAttribute('class', 'pill-dot pill-dot--' + level);
      return optimizeIcon;
    }
    if (level === 'transform'){
      var transformIcon = createTransformIcon('#525252');
      transformIcon.setAttribute('class', 'pill-dot pill-dot--' + level);
      return transformIcon;
    }

    var span = document.createElement('span');
    span.className = 'pill-dot pill-dot--' + level;
    span.setAttribute('data-level', level);
    return span;
  }

  function cardIsActive(service){
    if (!activeLevels.size) return false;
    if (activeLevels.has('transform')) return true;
    return service.levels.some(function(level){
      return activeLevels.has(level);
    });
  }

  function pillOn(level, service){
    if (!activeLevels.size) return false;
    if (activeLevels.has('transform')) return true;
    if (!cardIsActive(service)) return false;
    return activeLevels.has(level);
  }

  function setPillAppearance(dot, level, active){
    if (active){
      dot.classList.add('pill-dot--on');
    } else {
      dot.classList.remove('pill-dot--on');
    }

    if (dot.querySelectorAll){
      var fillTargets = dot.querySelectorAll('[data-fill-part]');
      if (fillTargets.length){
        var levelMeta = LEVELS.find(function(l){ return l.key === level; });
        var activeFill = levelMeta ? levelMeta.color : '#FFFFFF';
        var inactiveFill = '#525252';
        var targetColor = active ? activeFill : inactiveFill;
        fillTargets.forEach(function(part){
          part.setAttribute('fill', targetColor);
        });
      }
    }
  }

  function renderCards(){
    var selecting = activeLevels.size > 0;
    cardsEl.classList.toggle('cards--filtered', selecting);
    cardsEl.innerHTML = '';

    var newCards = [];
    SERVICES.forEach(function(service, idx){
      var active = cardIsActive(service);
      var article = document.createElement('article');
      article.className = 'card';
      article.classList.add('fade-item');
      var delayClass = 'delay-' + ((idx % 4) * 100);
      article.classList.add(delayClass);
      if (!selecting || active){
        article.classList.add('card--visible');
      }
      if (selecting && active){
        article.classList.add('card--match');
      }

      var h3 = document.createElement('h3');
      h3.className = 'card__title';
      h3.textContent = service.title;

      var p = document.createElement('p');
      p.className = 'card__blurb';
      p.textContent = service.blurb;

      var pills = document.createElement('div');
      pills.className = 'card__pills';
      ['stabilize','optimize','transform'].forEach(function(level){
        var dot = makePillDot(level);
        var isActive = pillOn(level, service);
        setPillAppearance(dot, level, isActive);
        pills.appendChild(dot);
      });

      article.append(h3, p, pills);
      cardsEl.appendChild(article);
      newCards.push(article);
    });
    if (window.registerFadeItems){
      window.registerFadeItems(newCards);
    }
  }

  function createStabilizeIcon(initialFill){
    var svgNS = 'http://www.w3.org/2000/svg';
    var svg = document.createElementNS(svgNS, 'svg');
    svg.setAttribute('width', '40');
    svg.setAttribute('height', '32.762');
    svg.setAttribute('viewBox', '0 0 40 32.762');
    svg.setAttribute('data-level', 'stabilize');

    var fillColor = initialFill || '#525252';
    [0, 12.1904, 24.3811].forEach(function(offset){
      var rect = document.createElementNS(svgNS, 'rect');
      rect.setAttribute('y', String(offset));
      rect.setAttribute('width', '40');
      rect.setAttribute('height', '8.38092');
      rect.setAttribute('rx', '4.19046');
      rect.setAttribute('fill', fillColor);
      rect.setAttribute('data-fill-part', '1');
      svg.appendChild(rect);
    });
    return svg;
  }

  function createOptimizeIcon(initialFill){
    var svgNS = 'http://www.w3.org/2000/svg';
    var svg = document.createElementNS(svgNS, 'svg');
    svg.setAttribute('width', '40');
    svg.setAttribute('height', '39.8095');
    svg.setAttribute('viewBox', '0 0 40 39.8095');
    svg.setAttribute('data-level', 'optimize');

    var fillColor = initialFill || '#525252';
    var topPath = document.createElementNS(svgNS, 'path');
    topPath.setAttribute('d', 'M40 1.74846e-06C40 2.62644 39.4827 5.22716 38.4776 7.65367C37.4725 10.0802 35.9993 12.285 34.1421 14.1421C32.285 15.9993 30.0802 17.4725 27.6537 18.4776C25.2272 19.4827 22.6264 20 20 20C17.3736 20 14.7728 19.4827 12.3463 18.4776C9.91982 17.4725 7.71503 15.9993 5.85786 14.1421C4.00069 12.285 2.5275 10.0802 1.52241 7.65367C0.517315 5.22716 -2.2961e-07 2.62644 0 0L40 1.74846e-06Z');
    topPath.setAttribute('fill', fillColor);
    topPath.setAttribute('data-fill-part', '1');

    var bottomPath = document.createElementNS(svgNS, 'path');
    bottomPath.setAttribute('d', 'M40 19.8095C40 22.436 39.4827 25.0367 38.4776 27.4632C37.4725 29.8897 35.9993 32.0945 34.1421 33.9517C32.285 35.8088 30.0802 37.282 27.6537 38.2871C25.2272 39.2922 22.6264 39.8095 20 39.8095C17.3736 39.8095 14.7728 39.2922 12.3463 38.2871C9.91982 37.282 7.71503 35.8088 5.85786 33.9517C4.00069 32.0945 2.5275 29.8897 1.52241 27.4632C0.517315 25.0367 -2.2961e-07 22.436 0 19.8095L40 19.8095Z');
    bottomPath.setAttribute('fill', fillColor);
    bottomPath.setAttribute('data-fill-part', '1');

    svg.appendChild(topPath);
    svg.appendChild(bottomPath);
    return svg;
  }

  function createTransformIcon(initialFill){
    var svgNS = 'http://www.w3.org/2000/svg';
    var svg = document.createElementNS(svgNS, 'svg');
    svg.setAttribute('width', '40');
    svg.setAttribute('height', '40');
    svg.setAttribute('viewBox', '0 0 40 40');
    svg.setAttribute('data-level', 'transform');

    var circle = document.createElementNS(svgNS, 'circle');
    circle.setAttribute('cx', '20');
    circle.setAttribute('cy', '20');
    circle.setAttribute('r', '20');
    circle.setAttribute('fill', initialFill || '#525252');
    circle.setAttribute('data-fill-part', '1');
    svg.appendChild(circle);
    return svg;
  }

  function createFilter(level){
    var wrap = document.createElement('div');
    wrap.className = 'filter-btnWrap';
    wrap.dataset.level = level.key;

    var btn = document.createElement('button');
    btn.type = 'button';
    btn.className = 'filter-btn';
    btn.dataset.level = level.key;
    btn.setAttribute('aria-pressed', 'false');

    var dot;
    if (level.key === 'stabilize'){
      dot = createStabilizeIcon(level.color);
      dot.classList.add('filter-dot', 'filter-dot--stabilize');
    } else if (level.key === 'optimize'){
      dot = createOptimizeIcon(level.color);
      dot.classList.add('filter-dot', 'filter-dot--optimize');
    } else if (level.key === 'transform'){
      dot = createTransformIcon(level.color);
      dot.classList.add('filter-dot', 'filter-dot--transform');
    } else {
      dot = document.createElement('span');
      dot.className = 'filter-dot';
      dot.style.background = level.color;
    }
    dot.setAttribute('aria-hidden', 'true');

    var text = document.createElement('span');
    text.className = 'filter-btn__text';
    text.textContent = level.label;
    btn.append(dot, text);

    var focusCopy = {
      stabilize: 'Focus: establish secure, reliable, and visible connectivity foundations.',
      optimize: 'Focus: streamline operations, automation, and productivity.',
      transform: 'Focus: strategic automation, unified management, and workforce intelligence.'
    };

    var tipText = focusCopy[level.key];
    var tip = null;
    if (tipText){
      tip = document.createElement('div');
      tip.className = 'filter-btn__copy';
      tip.setAttribute('role', 'tooltip');
      tip.setAttribute('aria-hidden', 'true');
      var focusLabel = document.createElement('strong');
      focusLabel.textContent = 'Focus:';
      var focusBody = document.createElement('span');
      focusBody.textContent = ' ' + tipText.replace(/^Focus:\s*/i, '');
      tip.append(focusLabel, focusBody);
      btn.appendChild(tip);
    }

    wrap.appendChild(btn);
    filtersEl.appendChild(wrap);
    filterRefs.push({ level: level.key, wrap: wrap, btn: btn, tip: tip });

    if (tip){
      wrap.addEventListener('mouseenter', function(){
        setTooltipVisibility(tip, true);
      });
      wrap.addEventListener('mouseleave', function(){
        setTooltipVisibility(tip, false);
      });
    }
  }

  function initFilters(){
    filtersEl.innerHTML = '';
    filterRefs = [];
    LEVELS.forEach(createFilter);
    updateFilters();
  }

  function updateFilters(){
    filterRefs.forEach(function(ref){
      var isActive = activeLevels.has(ref.level);
      ref.btn.setAttribute('aria-pressed', isActive ? 'true' : 'false');
      if (ref.wrap){
        ref.wrap.setAttribute('data-active', isActive ? 'true' : 'false');
      }
    });
  }

  function toggleLevel(level){
    if (level === 'transform'){
      if (activeLevels.has('transform')){
        activeLevels.clear();
      } else {
        activeLevels = new Set(LEVELS.map(function(l){ return l.key; }));
      }
    } else {
      activeLevels.delete('transform');
      if (activeLevels.has(level)){
        activeLevels.delete(level);
        if (level === 'stabilize' && activeLevels.has('optimize')){
          activeLevels.delete('optimize');
        }
        if (level === 'optimize' && activeLevels.has('stabilize')){
          activeLevels.delete('stabilize');
        }
      } else {
        if (level === 'stabilize'){
          activeLevels.clear();
          activeLevels.add('stabilize');
        } else if (level === 'optimize'){
          activeLevels.add('stabilize');
          activeLevels.add('optimize');
        } else {
          activeLevels.add(level);
        }
      }
    }
    updateFilters();
    renderCards();
  }

  filtersEl.addEventListener('click', function(evt){
    var wrap = evt.target.closest('.filter-btnWrap');
    if (!wrap || !filtersEl.contains(wrap)) return;
    toggleLevel(wrap.getAttribute('data-level'));
  });

  initFilters();
  renderCards();
})();
</script>










    {# Optional proof section (moved below Key Products) #}
    <div class="pt-32">&nbsp;</div>
    {% if proof and proof.enabled %}
    {% if product == 'Managed Helpdesk' %}
    <section id="helpdesk-impact" style="background:radial-gradient(ellipse at top, #050505 0%, #000 80%); color:#fff; font-family:Inter, system-ui, sans-serif; padding:80px 0; text-align:center;">
      <div style="max-width:1200px; margin:0 auto; padding:0 24px;">
        <h2 style="font-size:34px; font-weight:700; letter-spacing:.02em; color:#F8FAFC; margin-bottom:12px;">The Business Impact of a Structured Helpdesk</h2>
        <p style="color:rgba(255,255,255,.8); font-size:18px; line-height:1.6; max-width:800px; margin:0 auto 60px;">Organizations that adopt structured helpdesk operations experience measurable improvement in performance and user satisfaction.</p>
        <style>
          #helpdesk-impact{
            --hd-teal:#00BBA7;
            --hd-teal-dark:#007b68;
            --hd-teal-bright:#00E7C3;
            --hd-orange:#FF6A3D;
            --hd-yellow:#FFB347;
            --hd-green:#00E7C3;
            --hd-muted:rgba(255,255,255,.78);
            --hd-hair:rgba(255,255,255,.14);
          }
          #helpdesk-impact .grid{display:grid; grid-template-columns:repeat(2,1fr); gap:32px;}
          #helpdesk-impact .card{background:rgba(255,255,255,.02); border:1px solid var(--hd-hair); border-radius:20px; padding:32px; min-height:240px; display:flex; flex-direction:column; align-items:center; gap:10px; text-align:center; box-shadow:0 10px 24px rgba(0,0,0,.35); transition:transform .35s ease, box-shadow .35s ease;}
          #helpdesk-impact .card.is-activated{border-color:var(--hd-hair); transform:translateY(-4px); box-shadow:0 14px 30px rgba(0,0,0,.45);}
          #helpdesk-impact .card h3{margin:0; font-size:20px; font-weight:300; color:#fff; line-height:1.45;}
          #helpdesk-impact .card h3 strong{font-weight:700;}
          #helpdesk-impact .card p{margin:0; color:var(--hd-muted); font-size:15px; line-height:1.65;}
          #helpdesk-impact .metric{font-size:28px; font-weight:800; color:var(--hd-teal-bright); letter-spacing:.04em;}
          #helpdesk-impact .card--circle{align-items:center; text-align:center;}
          #helpdesk-impact .card--circle,
          #helpdesk-impact .card--satisfaction{padding-top:18px; padding-bottom:18px;}
          #helpdesk-impact .card--circle h3{font-weight:400; font-size:20px; max-width:360px;}
          #helpdesk-impact .metric-viz{display:flex; flex-direction:column; align-items:center; gap:20px; width:100%;}
          #helpdesk-impact .metric-meter{width:100%; max-width:320px; margin:12px auto 0; display:flex; flex-direction:column; gap:8px; align-items:stretch;}
          #helpdesk-impact .card--circle .metric-meter,
          #helpdesk-impact .card--satisfaction .metric-meter{margin:36px auto 26px;}
          #helpdesk-impact .metric-meter__label{font-size:11px; letter-spacing:.35em; text-transform:uppercase; color:rgba(226,232,240,.7); margin:0; text-align:center;}
          #helpdesk-impact .metric-meter__row{width:100%; position:relative; padding-right:62px; box-sizing:border-box;}
          #helpdesk-impact .metric-meter__track{width:100%; height:18px; border-radius:999px; background:rgba(15,23,42,.65); border:1px solid rgba(255,255,255,.08); padding:3px; box-shadow:inset 0 2px 6px rgba(0,0,0,.45);}
          #helpdesk-impact .metric-meter__track--ghost{padding:0; border:none; background:transparent; box-shadow:none;}
          #helpdesk-impact .metric-meter__fill{display:block; height:100%; width:0%; border-radius:999px; background:linear-gradient(90deg,#25f4d2,#00bba7); box-shadow:0 6px 18px rgba(37,244,210,.4); transition:width 1s ease;}
          #helpdesk-impact .card.is-activated .metric-meter__fill{width:var(--metric-target,85%);}
          #helpdesk-impact .metric-meter__value{font-size:32px; font-weight:800; color:#5eead4; letter-spacing:.08em; margin:0; text-align:center;}
          #helpdesk-impact .metric-meter__value--inline{font-size:18px; font-weight:800; margin:0; white-space:nowrap; color:#5eead4; letter-spacing:.08em; position:absolute; right:0; top:50%; transform:translateY(-50%);}
          #helpdesk-impact .metric-meter__note{margin:0; font-size:12px; color:rgba(148,163,184,.7); letter-spacing:.2em; text-transform:uppercase; text-align:center;}
          #helpdesk-impact .graph-title{margin:12px 0 0; font-size:11px; color:rgba(226,232,240,.6); letter-spacing:.2em; text-transform:uppercase; text-align:center;}
          #helpdesk-impact .card--circle .graph-title,
          #helpdesk-impact .card--satisfaction .graph-title{margin-top:18px;}
          #helpdesk-impact .card--downtime,
          #helpdesk-impact .card--visibility{min-height:180px; padding:18px 16px;}
          #helpdesk-impact .card--downtime{align-items:center; text-align:center; height:100%;}
          #helpdesk-impact .card--downtime h3{max-width:360px;}
          #helpdesk-impact .card--downtime .metric-viz,
          #helpdesk-impact .card--visibility .metric-viz{flex:1; display:flex; flex-direction:column; justify-content:center; align-items:center;}
          #helpdesk-impact .downtime-canvas,
          #helpdesk-impact .insight-canvas{width:100%; display:flex; justify-content:center; align-items:center; margin-top:0; transform:translateX(10px);}
          #helpdesk-impact .downtime-canvas canvas,
          #helpdesk-impact .insight-canvas canvas{width:100%; max-width:320px; height:110px; border-radius:12px; background:transparent; display:block; margin:0;}
          #helpdesk-impact .card--satisfaction{align-items:center;}
          #helpdesk-impact .card--satisfaction p{max-width:360px;}
          #helpdesk-impact .metric-viz{display:flex; flex-direction:column; align-items:center; gap:16px; width:100%;}
          #helpdesk-impact .satisfaction-line{position:relative; width:100%; max-width:320px; height:12px; border-radius:999px; background:rgba(255,255,255,.1); overflow:visible; margin:0 auto;}
          #helpdesk-impact .satisfaction-line .fill{position:absolute; inset:0; border-radius:12px; background:linear-gradient(90deg, var(--hd-orange), var(--hd-yellow), var(--hd-teal), var(--hd-green)); width:0%; transition:width 1.1s ease;}
          #helpdesk-impact .card--satisfaction.is-activated .satisfaction-line .fill{width:100%;}
          #helpdesk-impact .satisfaction-line .sad-face,
          #helpdesk-impact .satisfaction-line .smiley-face{position:absolute; top:50%; transform:translateY(-50%); width:30px; height:30px;}
          #helpdesk-impact .satisfaction-line .sad-face{left:-42px;}
          #helpdesk-impact .satisfaction-line .smiley-face{right:-42px;}
          #helpdesk-impact .satisfaction-line svg{width:100%; height:100%;}
          #helpdesk-impact .smiley-face circle{fill:none; stroke:var(--hd-green); stroke-width:1.4;}
          #helpdesk-impact .smiley-face path{stroke:var(--hd-green); stroke-width:1.4; stroke-linecap:round; fill:none;}
          #helpdesk-impact .smiley-face .eye{fill:var(--hd-green);}
          #helpdesk-impact .sad-face circle{fill:none; stroke:var(--hd-orange); stroke-width:1.4;}
          #helpdesk-impact .sad-face path{stroke:var(--hd-orange); stroke-width:1.4; stroke-linecap:round; fill:none;}
          #helpdesk-impact .sad-face .eye{fill:var(--hd-orange);}
          #helpdesk-impact .meter-caption{text-align:center;}
          #helpdesk-impact .meter-caption .value{font-size:26px; font-weight:800; color:var(--hd-green);}
          #helpdesk-impact .meter-caption .sub{font-size:12px; color:rgba(255,255,255,.62); letter-spacing:.18em; text-transform:uppercase;}
          #helpdesk-impact .card--visibility{align-items:center; text-align:center;}
          #helpdesk-impact .card--visibility .insight-canvas{width:100%; display:flex; justify-content:center;}
          #helpdesk-impact .card--visibility .insight-caption{font-size:12px; letter-spacing:.3em; text-transform:uppercase; color:rgba(255,255,255,.65); margin-top:18px;}
          @media (max-width:900px){
            #helpdesk-impact .grid{grid-template-columns:1fr;}
            #helpdesk-impact .card{min-height:0;}
          }
        </style>
        <div class="grid">
          <div class="card card--circle">
            <h3><strong>Up to 30% faster issue resolution</strong> through streamlined processes</h3>
            <div class="metric-viz">
              <div class="metric-meter" style="--metric-target:100%;" role="img" aria-label="Progress bar showing 30 percent faster resolution">
                <div class="metric-meter__row">
                  <div class="metric-meter__track" aria-hidden="true">
                    <span class="metric-meter__fill"></span>
                  </div>
                  <p class="metric-meter__value metric-meter__value--inline">+30%</p>
                </div>
              </div>
              <p class="graph-title">Resolution speed improvement</p>
            </div>
          </div>
          <div class="card card--satisfaction">
            <h3><strong>Higher user satisfaction scores</strong> supported by quality tracking</h3>
            <div class="metric-viz">
              <div class="metric-meter metric-meter--satisfaction" role="img" aria-label="Satisfaction increasing from poor to excellent">
                <div class="metric-meter__track metric-meter__track--ghost" aria-hidden="true">
                  <div class="satisfaction-line">
                    <div class="fill"></div>
                    <div class="sad-face" aria-hidden="true">
                      <svg viewBox="0 0 24 24">
                        <circle cx="12" cy="12" r="10" />
                        <circle class="eye" cx="9" cy="10" r="0.8" />
                        <circle class="eye" cx="15" cy="10" r="0.8" />
                        <path d="M7 15 Q12 11 17 15" />
                      </svg>
                    </div>
                    <div class="smiley-face" aria-hidden="true">
                      <svg viewBox="0 0 24 24">
                        <circle cx="12" cy="12" r="10" />
                        <circle class="eye" cx="9" cy="10" r="0.8" />
                        <circle class="eye" cx="15" cy="10" r="0.8" />
                        <path d="M7 14 Q12 18 17 14" />
                      </svg>
                    </div>
                  </div>
                </div>
              </div>
              <p class="graph-title">Quality tracking impact</p>
            </div>
          </div>
          <div class="card card--downtime">
            <h3><strong>Reduced downtime</strong> with continuous coverage and proactive management</h3>
            <div class="metric-viz">
              <div class="downtime-canvas" aria-hidden="true">
                <canvas id="downtimeCanvas" width="320" height="110"></canvas>
              </div>
              <p class="graph-title">Coverage-driven downtime reduction</p>
            </div>
          </div>
          <div class="card card--visibility">
            <h3><strong>Improved operational insight</strong> through trend analysis and transparent reporting</h3>
            <div class="metric-viz">
              <div class="insight-canvas" aria-hidden="true">
                <canvas id="insightCanvas" width="320" height="110"></canvas>
              </div>
              <p class="graph-title">Operational insight increase</p>
            </div>
          </div>
        </div>
        <p style="color:rgba(255,255,255,.78); font-size:18px; line-height:1.7; max-width:820px; margin:60px auto 0;">Predictable service delivery leads to measurable business continuity<br>and employee productivity gains.</p>
        <script>
          (function(){
            function createInsightAnimator(canvas){
              if (!canvas || !canvas.getContext) return null;
              var ctx = canvas.getContext('2d');
              var w = canvas.width;
              var h = canvas.height;
              var t = 0;
              var rafId = null;
              var bars = [22, 28, 35, 45, 60];
              var barWidth = 14;
              var gap = 46;

              function drawBackground(){
                ctx.clearRect(0, 0, w, h);
              }
              function drawGraph(progress){
                var baseY = h - 20;
                ctx.fillStyle = '#00BBA7';
                bars.forEach(function(bar, i){
                  var height = bar * progress * 0.8;
                  ctx.beginPath();
                  ctx.roundRect(30 + i * gap, baseY - height, barWidth, height, 6);
                  ctx.fill();
                });

                var startX = 30 + barWidth / 2;
                var startY = baseY - (bars[0] * 0.8) - 10;
                var endX = 30 + (bars.length - 1) * gap + barWidth / 2;
                var endY = baseY - (bars[bars.length - 1] * 0.8) - 10;
                ctx.beginPath();
                ctx.moveTo(startX, startY);
                ctx.lineTo(endX, endY);
                ctx.strokeStyle = '#00BBA7';
                ctx.lineWidth = 2.6;
                ctx.lineCap = 'round';
                ctx.stroke();

                var arrowLength = 8;
                var slope = Math.atan2(endY - startY, endX - startX);
                var arrowX = endX + Math.cos(slope) * arrowLength;
                var arrowY = endY + Math.sin(slope) * arrowLength;

                ctx.beginPath();
                ctx.moveTo(endX, endY);
                ctx.lineTo(arrowX, arrowY);
                ctx.strokeStyle = '#00BBA7';
                ctx.lineWidth = 3.4;
                ctx.stroke();

                var headLength = 7;
                ctx.beginPath();
                ctx.moveTo(arrowX, arrowY);
                ctx.lineTo(arrowX - headLength * Math.cos(slope - Math.PI / 6), arrowY - headLength * Math.sin(slope - Math.PI / 6));
                ctx.moveTo(arrowX, arrowY);
                ctx.lineTo(arrowX - headLength * Math.cos(slope + Math.PI / 6), arrowY - headLength * Math.sin(slope + Math.PI / 6));
                ctx.stroke();
              }
              function frame(){
                t += 0.02;
                drawBackground();
                var progress = Math.min(1, t / 2);
                drawGraph(progress);
                rafId = requestAnimationFrame(frame);
              }
              return {
                start: function(){
                  if (rafId !== null) return;
                  frame();
                }
              };
            }
            function createDowntimeAnimator(canvas){
              if (!canvas || !canvas.getContext) return null;
              var ctx = canvas.getContext('2d');
              var w = canvas.width;
              var h = canvas.height;
              var t = 0;
              var rafId = null;
              var bars = [60, 45, 35, 28, 22];
              var barWidth = 12;
              var gap = 46;

              function drawBackground(){
                ctx.fillStyle = '#000';
                ctx.fillRect(0, 0, w, h);
              }
              function drawGraph(progress){
                var baseY = h - 15;
                ctx.fillStyle = '#00BBA7';
                bars.forEach(function(bar, i){
                  var height = bar * progress * 0.8;
                  ctx.beginPath();
                  ctx.roundRect(30 + i * gap, baseY - height, barWidth, height, 5);
                  ctx.fill();
                });

                var startX = 30 + barWidth / 2;
                var startY = baseY - (bars[0] * 0.8) - 10;
                var endX = 30 + (bars.length - 1) * gap + barWidth / 2;
                var endY = baseY - (bars[bars.length - 1] * 0.8) - 10;
                ctx.beginPath();
                ctx.moveTo(startX, startY);
                ctx.lineTo(endX, endY);
                ctx.strokeStyle = '#00BBA7';
                ctx.lineWidth = 2.2;
                ctx.lineCap = 'round';
                ctx.stroke();

                var arrowLength = 6;
                var slope = Math.atan2(endY - startY, endX - startX);
                var arrowX = endX + Math.cos(slope) * arrowLength;
                var arrowY = endY + Math.sin(slope) * arrowLength;

                ctx.beginPath();
                ctx.moveTo(endX, endY);
                ctx.lineTo(arrowX, arrowY);
                ctx.strokeStyle = '#00BBA7';
                ctx.lineWidth = 2.8;
                ctx.stroke();

                var headLength = 5;
                ctx.beginPath();
                ctx.moveTo(arrowX, arrowY);
                ctx.lineTo(arrowX - headLength * Math.cos(slope - Math.PI / 6), arrowY - headLength * Math.sin(slope - Math.PI / 6));
                ctx.moveTo(arrowX, arrowY);
                ctx.lineTo(arrowX - headLength * Math.cos(slope + Math.PI / 6), arrowY - headLength * Math.sin(slope + Math.PI / 6));
                ctx.stroke();
              }
              function frame(){
                t += 0.02;
                drawBackground();
                var progress = Math.min(1, t / 2);
                drawGraph(progress);
                if (progress < 1){
                  rafId = requestAnimationFrame(frame);
                }
              }
              return {
                start: function(){
                  if (rafId !== null) return;
                  frame();
                }
              };
            }
            function ready(fn){
              if (document.readyState === 'loading'){
                document.addEventListener('DOMContentLoaded', fn, { once:true });
              } else {
                fn();
              }
            }
            ready(function(){
              var section = document.getElementById('helpdesk-impact');
              if (!section) return;
              var supportsIO = 'IntersectionObserver' in window;

              var bars = Array.prototype.slice.call(section.querySelectorAll('.bar'));
              function fill(bar){
                var val = parseFloat(bar.getAttribute('data-progress') || '0');
                var clamped = Math.max(0, Math.min(val, 100));
                bar.style.width = clamped + '%';
              }
              if (!bars.length){
                // continue to card animations even if no bars
              } else if (!supportsIO){
                bars.forEach(fill);
              } else {
                var barObserver = new IntersectionObserver(function(entries){
                  entries.forEach(function(entry){
                    if (entry.isIntersecting){
                      fill(entry.target);
                      barObserver.unobserve(entry.target);
                    }
                  });
                }, { threshold:0.45 });
                bars.forEach(function(bar){ barObserver.observe(bar); });
              }

              var cards = Array.prototype.slice.call(section.querySelectorAll('.card'));
              var insightAnimator = createInsightAnimator(section.querySelector('#insightCanvas'));
              var downtimeAnimator = createDowntimeAnimator(section.querySelector('#downtimeCanvas'));
              function activateCard(card){
                if (!card) return;
                card.classList.add('is-activated');
                if (card.classList.contains('card--visibility') && insightAnimator){
                  insightAnimator.start();
                }
                if (card.classList.contains('card--downtime') && downtimeAnimator){
                  downtimeAnimator.start();
                }
              }
              if (!cards.length) return;
              if (!supportsIO){
                cards.forEach(activateCard);
                return;
              }
              var cardObserver = new IntersectionObserver(function(entries){
                entries.forEach(function(entry){
                  if (entry.isIntersecting){
                    activateCard(entry.target);
                    cardObserver.unobserve(entry.target);
                  }
                });
              }, { threshold:0.35, rootMargin:'0px 0px -5% 0px' });
              cards.forEach(function(card){ cardObserver.observe(card); });
            });
          })();
        </script>
      </div>
    </section>
    {% else %}
    <section id="proof-security-outcomes" class="ycProof text-white" style="position:relative; isolation:isolate; background:transparent;">
      <hr class="mb-16 border-slate-700">
      <h2 class="mx-4 mt-4 mb-3 text-3xl font-semibold text-white font-mont md:mx-0 fade-item delay-0">{{ proof.title | safe }}</h2>
      {% if proof.sub %}
      <h3 class="mx-4 mb-12 text-[18px] font-light md:mx-0 text-slate-200 fade-item delay-100">{{ proof.sub | safe }}</h3>
      {% endif %}
      <div class="ycCards grid grid-cols-1 md:grid-cols-3 gap-5 md:gap-6">
        {% for c in proof.cards %}
        <article class="ycCard fade-item delay-{{ loop.index0 * 100 }}">
          {% if c.icon %}
          <div class="ycCard__icon" aria-hidden="true">
            <img src="{{ c.icon }}" alt="">
          </div>
          {% endif %}
          <h3 class="ycCard__title">{{ c.title | safe }}</h3>
          <p class="ycCard__desc">{{ c.desc | safe }}</p>
          {% if c.metrics %}
            {% for m in c.metrics %}
            <div class="ycMeter">
              <span class="ycMeter__label">{{ m.label | safe }}</span>
              <div class="ycMeter__track" aria-hidden="true">
                <span class="ycMeter__bar {% if m.color=='teal' %}ycMeter__bar--teal{% else %}ycMeter__bar--red{% endif %}" style="--val: {{ m.bar | default('60%') }};"></span>
              </div>
              <div class="ycMetric {% if m.color=='teal' %}ycMetric--teal{% else %}ycMetric--red{% endif %}">{{ m.metric | safe }}</div>
            </div>
            {% endfor %}
          {% elseif c.metric and c.metricLabel %}
            <div class="ycMeter">
              <span class="ycMeter__label">{{ c.metricLabel | safe }}</span>
              <div class="ycMeter__track" aria-hidden="true">
                <span class="ycMeter__bar {% if c.color=='teal' %}ycMeter__bar--teal{% else %}ycMeter__bar--red{% endif %}" style="--val: {{ c.bar | default('60%') }};"></span>
              </div>
              <div class="ycMetric {% if c.color=='teal' %}ycMetric--teal{% else %}ycMetric--red{% endif %}">{{ c.metric | safe }}</div>
            </div>
          {% endif %}
          {% if c.source %}<footer class="ycCard__foot">{{ c.source | safe }}</footer>{% endif %}
        </article>
        {% endfor %}
      </div>
      <style>
        .ycCards{ align-items:stretch; }
        .ycCard{ position:relative; border-radius:18px; padding:clamp(20px,2.4vw,28px); background:#000; border:1px solid rgba(102,199,232,.25); box-shadow:0 14px 38px rgba(5,12,22,.55), inset 0 1px 0 rgba(255,255,255,.05); color:#e2e8f0; display:flex; flex-direction:column; gap:1rem; height:100%; text-align:center; }
        .ycCard__icon{ width:64px; height:64px; border-radius:18px; margin:0 auto; display:grid; place-items:center; background:rgba(111,233,212,.12); border:1px solid rgba(111,233,212,.35); }
        .ycCard__icon img{ width:32px; height:32px; display:block; filter:invert(78%) sepia(18%) saturate(742%) hue-rotate(118deg) brightness(96%) contrast(101%); }
        .ycCard__title{ margin:0 0 10px; text-align:center; font-weight:800; font-size:clamp(18px,2.4vw,22px); }
        .ycCard__desc{ margin:0 0 16px; text-align:center; color:#cbd5e1; font-size:clamp(15px,2.1vw,18px); line-height:1.65; }
        .ycMeter{ display:grid; gap:8px; justify-items:center; margin:10px 0 8px; }
        .ycMeter__label{ font-size:12px; letter-spacing:.18em; text-transform:uppercase; color:#7dd3fc; opacity:.9; }
        .ycMeter__track{ width:100%; max-width:280px; height:10px; background:#0f172a; border-radius:999px; position:relative; overflow:hidden; }
        .ycMeter__bar{ position:absolute; left:0; top:0; bottom:0; width:0; border-radius:inherit; transition:width .8s cubic-bezier(.32,.75,.31,.97); }
        .ycCard.is-visible .ycMeter__bar{ width:var(--val, 60%); }
        .ycMeter__bar--teal{ background:linear-gradient(90deg,#6FE9D4 0%, #00BBA7 100%); }
        .ycMeter__bar--red{ background:linear-gradient(90deg,#fb7185 0%, #ef4444 100%); }
        .ycMetric{ font-weight:800; font-size:clamp(18px,2.8vw,22px); }
        .ycMetric--teal{ color:#6FE9D4; }
        .ycMetric--red{ color:#f87171; }
        .ycCard__foot{ margin-top:auto; text-align:center; font-size:12px; letter-spacing:.18em; color:#94a3b8; opacity:.9; width:100%; }
      </style>
      <script>
        (function(){
          function ready(fn){
            if (document.readyState === 'loading'){
              document.addEventListener('DOMContentLoaded', fn, { once:true });
            } else {
              fn();
            }
          }
          ready(function(){
            var section = document.getElementById('proof-security-outcomes');
            if (!section) return;
            var cards = Array.prototype.slice.call(section.querySelectorAll('.ycCard'));
            if (window.registerFadeItems) {
              window.registerFadeItems(cards);
            }
            if (!cards.length) return;

            function activateAll(){
              cards.forEach(function(card){ card.classList.add('is-visible'); });
            }

            if (!('IntersectionObserver' in window)){
              activateAll();
              return;
            }

            var observer = new IntersectionObserver(function(entries){
              entries.forEach(function(entry){
                if (entry.isIntersecting){
                  entry.target.classList.add('is-visible');
                  observer.unobserve(entry.target);
                }
              });
            }, { root:null, threshold:0.35 });

            cards.forEach(function(card){ observer.observe(card); });
          });
        })();
      </script>
    </section>
    {% endif %}
    {% endif %}

    <div class="pt-32">&nbsp;</div>

    {# <div class="w-10 h-2 bg-gradient-to-r from-teal-500 to-teal-400"></div> #}
    <hr class="mb-16 border-slate-700">
    <h2 class="mx-4 mt-4 mb-3 text-3xl font-semibold text-white font-mont md:mx-0 fade-item delay-0">{{ vendorsTitle }}</h2>
    <h3 class="mx-4 mb-12 text-[18px] font-light md:mx-0 text-slate-200 fade-item delay-100">{{ vendorsBody }}</h3>

    <div class="grid grid-cols-2 gap-8 md:grid-cols-6 fade-item delay-200">
      {% for logo in vendorsLogos %}
        <img class="block col-span-1" src="{{ logo.src }}" alt="{{ logo.alt }}">
      {% endfor %}
    </div>

  </article>
</main> 

{# <div class="h-24 bg-black"></div> #}

{% include "partials/footer.html" %}
{% endblock %}
