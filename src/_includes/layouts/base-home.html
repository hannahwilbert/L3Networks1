<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  {% include "partials/meta-info.html" %}
  <link rel="stylesheet" href="/css/swiper-bundle.min.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preload" as="image" href="/images/home/home1.webp" fetchpriority="high">
  {% if env.isProd %}
  <link rel="preconnect" href="https://www.googletagmanager.com">
  <link rel="preconnect" href="https://snap.licdn.com">
  <link rel="preconnect" href="https://js-na2.hs-scripts.com">
  <link rel="preconnect" href="https://mm-uxrv.com">
  {% endif %}
  <link rel="preconnect" href="https://unpkg.com">
  <link rel="dns-prefetch" href="//unpkg.com">
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;600;700;800&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/css/style.css">
  <style>
    /* Match Testing home typography and scale */
    html { font-family: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, Helvetica, Arial, sans-serif !important; }
    h1, h2, h3, h4, .heading-xl, .heading-lg, .heading-md { font-family: "Montserrat", system-ui, -apple-system, "Segoe UI", Roboto, Helvetica, Arial, sans-serif !important; }
    :root{
      --heading-xl: clamp(34px, 6.4vw, 60px);
      --heading-lg: clamp(28px, 5.2vw, 46px);
      --heading-md: clamp(22px, 4.4vw, 34px);
      --body-lead: clamp(16px, 2.4vw, 21px);
      --body-text: clamp(16px, 2vw, 18px);
      --body-sm: clamp(14px, 1.8vw, 15px);
    }
    .heading-xl{ font-size: var(--heading-xl); line-height:1.1; letter-spacing:-.01em; font-weight:700; }
    .heading-lg{ font-size: var(--heading-lg); line-height:1.1; letter-spacing:-.01em; font-weight:700; }
    .heading-md{ font-size: var(--heading-md); line-height:1.1; letter-spacing:-.01em; font-weight:700; }
    .body-lead{ font-size: var(--body-lead); }
    html, body { overflow-x: clip; }
    /* (removed section seam blending) */
    /* Force all section titles on home (h2) to 60px Montserrat, weight 600 */
    main h2{ font-size:60px !important; line-height:1.1; letter-spacing:-.01em; font-weight:600 !important; }
    /* Exception: smaller heading variant for select titles */
    main h2.heading-36{ font-size:36px !important; line-height:1.15; font-weight:600 !important; }
  </style>
  {% include "partials/tracking.html" %}
</head> 


<body class="relative font-inter bg-black" x-data="{ 'showModal': false }" @keydown.escape="showModal = false">
  {% include "partials/site-headB.html" %}
  {% include "partials/site-head-mobile.html" %}
  <main tabindex="-1" id="main-content">{% block content %}{% endblock %}</main>
  <script defer src="/js/anime.js"></script>
  <script defer src="/js/alpinecollapse-cdn.min.js"></script>
  <script defer src="/js/alpine-cdn.min.js"></script>

  <script defer src="/js/swiper-bundle.min.js"></script>
  <script defer src="https://unpkg.com/typed.js@2.1.0/dist/typed.umd.js"></script>
  <script defer src="/js/animate.js"></script>
	  <script>
	    window.addEventListener('DOMContentLoaded', () => {
	      const initSwiper = (sel, opts) => {
	        if (window.Swiper && document.querySelector(sel)) {
	          return new Swiper(sel, opts);
	        }
	      };
	      const initSwiperEl = (el, opts) => {
	        if (window.Swiper && el) return new Swiper(el, opts);
	      };
      initSwiper('#hero', {
        slidesPerView: 1,
        spaceBetween: 0,
        autoplay: {
          delay: 8000,
        },

        navigation: {
          nextEl: '.swiper-button-next',
          prevEl: '.swiper-button-prev',
        },
        pagination: {
          el: ".swiper-pagination",
        }
      });

     initSwiper('#homeswiper', {
        loop: true,

        // Navigation arrows
        navigation: {
          nextEl: '.swiper-button-next',
          prevEl: '.swiper-button-prev',
        },

      });

      // Brand marquee controls (restart + manual nudge; arrows appear only when paused/stalled)
      (function(){
        const marquees = document.querySelectorAll('.brand-marquee');
        if (!marquees.length) return;
        marquees.forEach((wrap)=>{
          const track = wrap.querySelector('.brand-marquee__track');
          const next = wrap.querySelector('.brand-marquee__arrow--next');
          const prefersReduce = window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches;
          if (!track) return;

          const setPaused = (paused) => {
            track.style.animationPlayState = paused ? 'paused' : 'running';
            wrap.classList.toggle('is-paused', paused);
          };

          const restart = () => {
            track.style.animation = 'none';
            void track.offsetWidth; // force reflow
            track.style.animation = '';
            setPaused(false);
          };

          const nudge = (dir) => {
            const step = 220 * dir;
            const matrix = new DOMMatrixReadOnly(getComputedStyle(track).transform);
            const currentX = matrix.m41;
            setPaused(true);
            track.style.transition = 'transform 0.35s ease';
            track.style.transform = `translateX(${currentX + step}px)`;
            setTimeout(() => {
              track.style.transition = '';
              track.style.transform = '';
              restart();
            }, 380);
          };

          let lastX = null;
          let stillCount = 0;
          const checkStall = () => {
            if (prefersReduce) return; // skip when reduced motion is requested
            const matrix = new DOMMatrixReadOnly(getComputedStyle(track).transform);
            const x = matrix.m41;
            if (x === lastX) {
              stillCount++;
              if (stillCount >= 3) setPaused(true);
            } else {
              stillCount = 0;
              if (!wrap.matches('.is-paused')) setPaused(false);
            }
            lastX = x;
          };

          next && next.addEventListener('click', () => nudge(-1));

          document.addEventListener('visibilitychange', () => {
            if (document.visibilityState !== 'visible') return;
            restart();
          });

          // Stall detection: if transform stops changing, surface arrows
          setInterval(checkStall, 1400);
        });
      })();

    });


  </script>

  {# tracking loaded via happierleads partial in <head> #}
</body>

</html>
